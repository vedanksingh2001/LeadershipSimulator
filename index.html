<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leadership Personality Quiz</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <style>
    /* Full-screen background video */
    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }

    .background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      filter: blur(3px);
    }

    /* Center content */
    .quiz-container {
      background-color: rgba(255, 255, 255, 0.85);
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 800px;
      text-align: left;
      color: #212529;
      backdrop-filter: blur(7px);
      margin: 0 auto;
    }

    h1 {
      color: #00c48d;
      text-align: center;
      margin-bottom: 30px;
      font-size: 2.5em;
      animation: fadeInDown 1s ease-in-out;
    }

    h3 {
      color: #5444f2;
      margin-bottom: 15px;
      font-size: 1.5em;
    }
  .progress-container {
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      height: 5px;
      background: #ddd;
    }

    .progress-bar {
      height: 100%;
      width: 0;
      background-color: #5444f2;
    }
    
    .scenario-image {
      text-align: center;
      margin-bottom: 25px;
      animation: fadeInUp 0.8s ease-in-out;
    }

    .scenario-image img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .question-container {
      display: none;
      opacity: 0;
      transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
      transform: translateY(20px);
    }

    .question-container.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .question {
      margin-bottom: 25px;
      padding: 20px;
      border: 1px solid #00c48d;
      border-radius: 10px;
      background-color: #f4f6f8;
      color: #212529;
      transition: all 0.3s ease-in-out;
    }

    .question:hover {
      transform: scale(1.02);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    }

    p {
      color: #495057;
      margin-bottom: 15px;
      line-height: 1.7;
    }

    label {
      display: block;
      margin-bottom: 12px;
      color: #212529;
      cursor: pointer;
      transition: background-color 0.3s ease;
      padding: 10px;
      border-radius: 5px;
    }

    label:hover {
      background-color: #e9ecef;
    }

    input[type="radio"] {
      margin-right: 10px;
      vertical-align: middle;
    }

    .controls {
      text-align: center;
      margin-top: 30px;
    }

    button {
      background-color: #5444f2;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      transition: background-color 0.3s ease, transform 0.2s ease-in-out;
      margin: 0 10px;
    }

    button:hover {
      background-color: #4033b8;
      transform: scale(1.05);
    }

    button:disabled {
      background-color: #8d99ae;
      cursor: not-allowed;
      transform: scale(1);
    }

    #thank-you {
      text-align: center;
      display: none;
      color: #00c48d;
      margin-top: 40px;
      font-size: 22px;
      animation: fadeIn 0.6s ease-in-out;
    }

    /* Animations */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <!-- Background video -->
  <video class="background-video" autoplay muted loop>
    <source src="freepik__background-deep-black-space-background-with-subtle__7402.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="quiz-container">
    <!-- Progress bar -->
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>

    <h1>Leadership Personality Quiz</h1>
    <form id="quiz-form">

      <div class="question-container active" id="question1">
        <div class="scenario-image">
          <img src="Images/comic_strip_1.png" alt="Case Study 1 Comic Strip">
        </div>
        <div class="question">
          <h3>Case Study 1: The Missed Deadline – Meera</h3>
          <p>Meera missed a major deadline. During 1:1, she shared that her father is very sick. How do you
            respond?</p>
          <label><input type="radio" name="q1" data-points="1" data-traits="POSAGG"> “This is serious. We
            can’t afford delays. You’ll be placed on a performance plan.”</label><br>
          <label><input type="radio" name="q1" data-points="2" data-traits="EMP,SUP"> “Why didn’t you say
            something earlier? Take the next week off. I’ll manage the handover.”</label><br>
          <label><input type="radio" name="q1" data-points="-1" data-traits="RED"> Quietly shift her tasks to
            others and tell the team to stop depending on her right now.</label><br>
          <label><input type="radio" name="q1" data-points="2" data-traits="EQ,COACH"> “Let’s figure this out.
            We can lighten your load for now—and talk weekly to recalibrate.”</label>
        </div>
        <div class="controls">
          <button type="button" id="next1" onclick="nextQuestion(1)" enabled>Next</button>
        </div>
      </div>

      <div class="question-container" id="question2">
        <div class="scenario-image">
          <img src="Images/comic_strip_1.png" alt="Case Study 2 Comic Strip">
        </div>
        <div class="question">
          <h3>Case Study 2: The Dominant Star – Rajat</h3>
          <p>Rajat dominates discussions and demotivates the team. How do you respond?</p>
          <label><input type="radio" name="q2" data-points="0" data-traits="RED"> “You’re driving impact,
            Rajat. Let’s keep that up. I’ll ask others to step up too.”</label><br>
          <label><input type="radio" name="q2" data-points="1" data-traits="POSAGG"> Call him out in front of
            the team during a meeting when he interrupts a peer.</label><br>
          <label><input type="radio" name="q2" data-points="2" data-traits="COACH,EQ,EMP"> “Your output is
            great, but the team dynamic matters. I need your help building a stronger room.”</label><br>
          <label><input type="radio" name="q2" data-points="1" data-traits="SUP,GROW"> Shift Rajat to an
            individual contributor track with limited team interaction.</label>
        </div>
        <div class="controls">
          <button type="button" class="prev" data-current="2" data-next="1" onclick="prevQuestion(2)">Previous</button>
          <button type="button" id="next2" onclick="nextQuestion(2)" enabled>Next</button>
        </div>
      </div>

      <div class="question-container" id="question3">
        <div class="scenario-image">
          <img src="placeholder_image.png" alt="Case Study 3 Comic Strip">
        </div>
        <div class="question">
          <h3>Case Study 3: The Lost Intern – Nisha</h3>
          <p>Nisha seems nervous, slow to start. How do you respond?</p>
          <label><input type="radio" name="q3" data-points="1" data-traits="SUP"> Assign her a peer mentor to
            shadow and give her structure.</label><br>
          <label><input type="radio" name="q3" data-points="2" data-traits="COACH,GROW,SUP"> Begin daily
            15-minute check-ins, easing her into responsibility.</label><br>
          <label><input type="radio" name="q3" data-points="-1" data-traits="POSAGG"> Tell her she must
            adapt—this is a fast-paced, self-starter environment.</label><br>
          <label><input type="radio" name="q3" data-points="-1" data-traits="RED"> Remove her from the project
            and inform HR that she may not be a fit.</label>
        </div>
        <div class="controls">
          <button type="button" class="prev" data-current="3" data-next="2" onclick="prevQuestion(3)">Previous</button>
          <button type="button" id="next3" onclick="nextQuestion(3)" enabled>Next</button>
        </div>
      </div>

      <div class="question-container" id="question4">
        <div class="scenario-image">
          <img src="placeholder_image.png" alt="Case Study 4 Comic Strip">
        </div>
        <div class="question">
          <h3>Case Study 4: Passive Team</h3>
          <p>Your team never suggests improvements. How do you respond?</p>
          <label><input type="radio" name="q4" data-points="2" data-traits="EQ,EMP,COACH"> Conduct a team
            retrospective.</label><br>
          <label><input type="radio" name="q4" data-points="0" data-traits="POSAGG,RED"> Send warning for low
            initiative.</label><br>
          <label><input type="radio" name="q4" data-points="2" data-traits="GROW,SUP"> Assign ownership
            roles.</label><br>
          <label><input type="radio" name="q4" data-points="-2" data-traits="RED"> Replace them with new
            hires.</label>
        </div>
        <div class="controls">
          <button type="button" class="prev" data-current="4" data-next="3" onclick="prevQuestion(4)">Previous</button>
          <button type="button" id="next4" onclick="nextQuestion(4)" enabled>Next</button>
        </div>
      </div>

      <div class="question-container" id="question5">
        <div class="scenario-image">
          <img src="placeholder_image.png" alt="Case Study 5 Comic Strip">
        </div>
        <div class="question">
          <h3>Case Study 5: Feedback Dilemma</h3>
          <p>Team says you seem unapproachable. How do you respond?</p>
          <label><input type="radio" name="q5" data-points="2" data-traits="EQ,EMP,COACH"> Publicly
            acknowledge and schedule 1:1s.</label><br>
          <label><input type="radio" name="q5" data-points="-1" data-traits="POSAGG"> Dismiss the comments as
            baseless jealousy.</label><br>
          <label><input type="radio" name="q5" data-points="1" data-traits="SUP,GROW"> Create an anonymous
            feedback system for safer feedback loops.</label><br>
          <label><input type="radio" name="q5" data-points="0" data-traits="RED"> Continue current leadership
            style without change, because results matter most.</label>
        </div>
        <div class="controls">
          <button type="button" class="prev" data-current="5" data-next="4" onclick="prevQuestion(5)">Previous</button>
          <button type="submit" enabled>Submit</button>
        </div>
      </div>

    </form>
   <div id="thank-you">
        <h2>Thank you for playing!</h2>
        <div id="confetti"></div>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.0/dist/confetti.browser.min.js"></script>

<script>
  // Set the video playback speed to slower (e.g., 0.5 for half speed)
  const backgroundVideo = document.querySelector('.background-video');
  backgroundVideo.playbackRate = 0.5; // Slow down the video to half speed

  const progressBar = document.getElementById('progress-bar');
  let currentQuestion = 0;
  const totalQuestions = 5; // Change based on total number of questions
  const questionContainers = document.querySelectorAll('.question-container');
  const nextButtons = document.querySelectorAll('[id^="next"]');
  const submitButton = document.querySelector('button[type="submit"]');

  // Progress bar update function
  function updateProgressBar() {
    const progress = ((currentQuestion + 1) / totalQuestions) * 100;
    progressBar.style.width = `${progress}%`;
  }

  // Event listener to enable the "Next" button when a user selects an answer
  quizForm.addEventListener('change', (event) => {
    const questionNumber = parseInt(event.target.name.substring(1));
    const nextButton = document.getElementById(`next${questionNumber}`);
    const currentQuestionDiv = document.getElementById(`question${questionNumber}`);
    const isAnswered = currentQuestionDiv.querySelector(`input[name="q${questionNumber}"]:checked`);

    // Enable the "Next" button if an answer is selected
    if (nextButton) {
      nextButton.disabled = !isAnswered;
    }

    // Enable Submit button on last question
    if (questionNumber === totalQuestions && submitButton) {
      submitButton.disabled = !isAnswered;
    }
  });

  // Function to show a question
  function showQuestion(index) {
    questionContainers.forEach((container, i) => {
      container.classList.remove('active');
      if (i === index) {
        container.classList.add('active');
      }
    });
    updateProgressBar();
  }

  // Function to move to the next question
  function nextQuestion(questionNumber) {
    const currentQuestionIndex = questionNumber - 1;
    const nextIndex = currentQuestionIndex + 1;
    const currentQuestionDiv = document.getElementById(`question${questionNumber}`);
    const selectedOption = currentQuestionDiv.querySelector(`input[name="q${questionNumber}"]:checked`);

    if (selectedOption) {
      if (nextIndex < totalQuestions) {
        currentQuestion = nextIndex;
        showQuestion(currentQuestion);
      }
    } else {
      alert("Please select an answer before proceeding.");
    }
  }

  // Function to go to the previous question
  function prevQuestion(questionNumber) {
    const prevIndex = questionNumber - 2;
    if (prevIndex >= 0) {
      currentQuestion = prevIndex;
      showQuestion(currentQuestion);
    }
  }

  // Function to trigger confetti when the quiz is completed
  function completeQuiz() {
    confetti(); // Triggers confetti on completion
  }

  // When the user submits the quiz
  quizForm.addEventListener('submit', function (e) {
    e.preventDefault();
    completeQuiz();
  });

  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyDETuFmpE616V5YDOu4iPlxkn-53V2XJpg",
    authDomain: "leadershipquiz-48036.firebaseapp.com",
    projectId: "leadershipquiz-48036",
    storageBucket: "leadershipquiz-48036.firebasestorage.app",
    messagingSenderId: "606740825362",
    appId: "1:606740825362:web:d8516fd6a13d88f5175fcb"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Submit quiz responses to Firebase
  quizForm.addEventListener('submit', function (e) {
    e.preventDefault();

    const formData = {};
    const questions = quizForm.querySelectorAll('.question-container');

    questions.forEach((q, idx) => {
      const selected = q.querySelector('input[type="radio"]:checked');
      if (selected) {
        formData[`question_${idx + 1}`] = {
          response: selected.parentElement.innerText.trim(),
          points: selected.getAttribute('data-points'),
          traits: selected.getAttribute('data-traits')
        };
      }
    });

    // Save responses to Firestore
    db.collection('quiz_responses').add(formData)
      .then(() => {
        quizForm.style.display = 'none';
        document.getElementById('thank-you').style.display = 'block';
      })
      .catch(error => {
        console.error("Error saving response: ", error);
      });
  });
</script>
</body>

</html>
